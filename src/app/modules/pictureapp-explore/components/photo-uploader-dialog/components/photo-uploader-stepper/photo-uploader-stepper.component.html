<!-- <mat-horizontal-stepper [linear]="isLinear" #stepper>
  <mat-step [stepControl]="firstFormGroup">
    <form [formGroup]="firstFormGroup">
      <ng-template matStepLabel>Add photos</ng-template>
      <app-photo-uploader-addphoto-firststep [fileInput]='fileInput'></app-photo-uploader-addphoto-firststep>
      <div>
        <button mat-button matStepperNext>Next</button>
      </div>
    </form>
  </mat-step>
  <mat-step [stepControl]="secondFormGroup">
    <form [formGroup]="secondFormGroup">
      <ng-template matStepLabel>Photo tags, description and groups</ng-template>
      <app-photo-uploader-tags-desc-preview-secondstep [photoUploaderModel]=''></app-photo-uploader-tags-desc-preview-secondstep>
      <div>
        <button mat-button matStepperPrevious>Back</button>
        <button mat-button matStepperNext>Next</button>
      </div>
    </form>
  </mat-step>
  <mat-step>
    <ng-template matStepLabel>Summary and upload photo</ng-template>
    You are now done.
    <div>
      <button mat-button matStepperPrevious>Back</button>
      <button mat-button (click)="stepper.reset()">Reset</button>
    </div>
  </mat-step>
</mat-horizontal-stepper> -->

<button mat-raised-button (click)="isOptional = !isOptional">
  {{!isOptional ? 'Enable optional steps' : 'Disable optional steps'}}
</button>

<mat-horizontal-stepper linear #stepper>
  <mat-step [stepControl]="firstFormGroup">
    <form [formGroup]="firstFormGroup">
      <ng-template matStepLabel>Fill out your name</ng-template>
      <mat-form-field>
        <input matInput placeholder="Last name, First name" formControlName="firstCtrl" required>

      </mat-form-field>

      <div style="margin-top: 40px; margin-bottom: 40px;" class="container">

        <div class="row">
      
            <div class="col-md-5">
      
                <h3>Select files</h3>
      
                <div ng2FileDrop
                    [ngClass]="{'nv-file-over': hasBaseDropZoneOver}"
                    (fileOver)="fileOverBase($event)"
                    [uploader]="uploader"
                    (onFileDrop)="onChangePreviewImages()"
                    class="well my-drop-zone nv-file-over card bg-faded p-3 text-center mb-3 ">
                <div class="flex-container">
                  <mat-icon>cloud_upload</mat-icon>
                </div>
                  Drop Photos Here
                </div>
                Or upload multiple from your disc
                <input type="file" ng2FileSelect [uploader]="uploader" (change)="onChangePreviewImages()" multiple  /><br/>
            </div>
      
            <div class="col-md-7" style="margin-bottom: 40px; padding-left: 70px;">
      
                <h3>Upload photos queue</h3>
                <p>Queue length: {{ uploader?.queue?.length }}</p>
      
                <table class="table">
                  <thead>
                    <tr>
                      <th width="50%">Name</th>
                      <th>Size</th>
                      <th></th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let item of uploader.queue; index as i">
                      <td>
                        <strong>{{ item?.file?.name }}</strong>
                      </td>
                      <td  nowrap>
                        {{ item?.file?.size / 1024 / 1024 | number: ".2" }} MB
                      </td>
              
                      <td nowrap>
                          <img [src]="filePreviewPaths[i]" style="max-width: 50px; max-height: 150px;" *ngIf="filePreviewPaths[i]" />
      
                      </td>
                    </tr>
                  </tbody>
                </table>
            </div>
      
        </div>
       
      </div>
      

      <div>
        <button mat-button matStepperNext>Next</button>
      </div>
    </form>
  </mat-step>
  <mat-step [stepControl]="secondFormGroup" [optional]="isOptional">
    <form [formGroup]="secondFormGroup">
      <ng-template matStepLabel>Fill out your address</ng-template>
      <mat-form-field>
        <input matInput placeholder="Address" formControlName="secondCtrl" required>
      </mat-form-field>
      <div>
        <button mat-button matStepperPrevious>Back</button>
        <button mat-button matStepperNext>Next</button>
      </div>
    </form>
  </mat-step>
  <mat-step>
    <ng-template matStepLabel>Done</ng-template>
    You are now done.
    <div>
      <button mat-button matStepperPrevious>Back</button>
      <button mat-button (click)="stepper.reset()">Reset</button>
    </div>
  </mat-step>
</mat-horizontal-stepper>